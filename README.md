# CutCord

A community-focused chat application built on Veilid.

CutCord works off the security principle that everything seen has been downloaded, and therefore, employs a few levels of encryption above the DHT. Guild, like Discord servers, or matrix spaces, are first encrypted with a key which unlocks their metadata such as membership, member permissions, and registered channels. Each channel is then encrypted with its own key that is stored by all members that have access to that channel. When a new member is added, a consensus with all nodes that have a member's signing key must sign off on the transfer of the channel encryption key via a multi-layed signature. This signature is then checked against the member's public keys which will verify that this is the authentic encryption key for that channel. It will have the metadata for the channel messages. The signatures provided and the channel encryption key is then used to request the key for messages sent from a specific member for that channel from any node that has the correct key-pair available. This prevents reading new messages from users that have blocked, or from a single node giving (UI) read/write access to a channel unilaterally. It is up to clients to ignore writes to a channel from an unverified member.

All attachments stored on the DHT will be automatically loaded in accordance with the data-usage setting of the client, while remote attachments can be disabled by default, enabled by default for certain hosts, disabled by default for certain hosts, or enabled by default. Same goes for embeds where the embed data is sent by the client in accordance with the client's configs, but can be fetched with similar filtering by the user's client if they so choose.

"Member" and/or "User" is a fancy name for an "Identity" which is verified by a pub/priv key-pair. Nodes can service multiple identities at their leisure. Technically, every message "sent" by an identity is written into one store, which requires the key from the client (e.g. node) to decrypt as a mildly "pre-shared" secret. The network of clients maintain a record of guilds which they are members of can be asked to provide re-join details if the other clients agree to allow re-joining after an ownership change.

CutCord borrows the concept of "verified sessions" which makes each client add their own signature to messages, along with the one for the identity itself. Having an identity compromised will require the creation of a new identity due to the nature of veilid.
